<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ì°¨ ì „íŒŒ ë²•ì¹™ ì‹œë®¬ë ˆì´ì…˜</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .control-panel {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            font-size: 0.95em;
        }

        .input-group input {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .function-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .function-card {
            background: white;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .function-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .function-card.active {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .function-title {
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 5px;
        }

        .function-formula {
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            margin: 10px 0;
        }

        .function-type {
            font-size: 0.85em;
            opacity: 0.8;
        }

        .simulate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .simulate-btn:hover {
            transform: scale(1.02);
        }

        .simulate-btn:active {
            transform: scale(0.98);
        }

        .results-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .result-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .result-title {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 15px;
            color: #333;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 600;
            color: #555;
        }

        .result-value {
            font-family: 'Courier New', monospace;
            color: #667eea;
            font-weight: 700;
        }

        .error-indicator {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 0.85em;
            margin-left: 10px;
        }

        .error-good {
            background: #d4edda;
            color: #155724;
        }

        .error-warning {
            background: #fff3cd;
            color: #856404;
        }

        .error-bad {
            background: #f8d7da;
            color: #721c24;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .chart-title {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }

        canvas {
            max-height: 400px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            font-size: 1.2em;
            color: #667eea;
        }

        .loading.active {
            display: block;
        }

        .interpretation {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border-left: 5px solid #667eea;
        }

        .interpretation h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .interpretation p {
            line-height: 1.6;
            color: #555;
        }

        @media (max-width: 768px) {
            .results-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ì˜¤ì°¨ ì „íŒŒ ë²•ì¹™ ì‹œë®¬ë ˆì´ì…˜</h1>
        <p class="subtitle">Monte Carlo Simulationìœ¼ë¡œ ì´ë¡ ê³¼ ì‹¤ì œ ë¶„ì‚° ë¹„êµ</p>

        <div class="control-panel">
            <h2 style="margin-bottom: 20px; color: #333;">ì…ë ¥ íŒŒë¼ë¯¸í„° ì„¤ì •</h2>
            
            <div class="input-grid">
                <div class="input-group">
                    <label>X í‰ê·  (Î¼â‚“)</label>
                    <input type="number" id="muX" value="10" step="0.1">
                </div>
                <div class="input-group">
                    <label>X í‘œì¤€í¸ì°¨ (Ïƒâ‚“)</label>
                    <input type="number" id="sigmaX" value="0.1" step="0.01" min="0.01">
                </div>
                <div class="input-group">
                    <label>Y í‰ê·  (Î¼áµ§)</label>
                    <input type="number" id="muY" value="5" step="0.1">
                </div>
                <div class="input-group">
                    <label>Y í‘œì¤€í¸ì°¨ (Ïƒáµ§)</label>
                    <input type="number" id="sigmaY" value="0.1" step="0.01" min="0.01">
                </div>
                <div class="input-group">
                    <label>ìƒ˜í”Œ ìˆ˜ (N)</label>
                    <input type="number" id="sampleSize" value="10000" step="1000" min="1000">
                </div>
            </div>

            <h3 style="margin: 20px 0 15px 0; color: #333;">í•¨ìˆ˜ ì„ íƒ</h3>
            <div class="function-selector">
                <div class="function-card active" data-function="linear">
                    <div class="function-title">ì„ í˜• í•¨ìˆ˜</div>
                    <div class="function-formula">f = 2x + 3y</div>
                    <div class="function-type">1ì°¨ ê·¼ì‚¬ ì™„ë²½ ì¼ì¹˜</div>
                </div>
                <div class="function-card" data-function="multiply">
                    <div class="function-title">ê³±ì…ˆ í•¨ìˆ˜</div>
                    <div class="function-formula">f = x Ã— y</div>
                    <div class="function-type">ë¹„ì„ í˜• (ì•½í•œ)</div>
                </div>
                <div class="function-card" data-function="cosine">
                    <div class="function-title">ì‚¼ê° í•¨ìˆ˜</div>
                    <div class="function-formula">f = cos(xy)</div>
                    <div class="function-type">ë¹„ì„ í˜• (ê°•í•œ)</div>
                </div>
            </div>

            <button class="simulate-btn" onclick="runSimulation()">ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰</button>
        </div>

        <div class="loading" id="loading">ì‹œë®¬ë ˆì´ì…˜ ì§„í–‰ ì¤‘...</div>

        <div id="resultsSection" style="display: none;">
            <div class="results-container">
                <div class="result-card">
                    <div class="result-title">ğŸ“Š ì´ë¡ ì  ì˜ˆì¸¡ê°’</div>
                    <div class="result-row">
                        <span class="result-label">ì˜ˆì¸¡ í‰ê·  E[f]</span>
                        <span class="result-value" id="theoreticalMean">-</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">ì˜ˆì¸¡ í‘œì¤€í¸ì°¨ Ïƒ_f</span>
                        <span class="result-value" id="theoreticalStd">-</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">ì‚¬ìš© ê³µì‹</span>
                        <span class="result-value" id="formulaUsed" style="font-size: 0.9em;">-</span>
                    </div>
                </div>

                <div class="result-card">
                    <div class="result-title">ğŸ² ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼</div>
                    <div class="result-row">
                        <span class="result-label">ì‹¤ì œ í‰ê· </span>
                        <span class="result-value" id="simulatedMean">-</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">ì‹¤ì œ í‘œì¤€í¸ì°¨</span>
                        <span class="result-value" id="simulatedStd">-</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">ìƒëŒ€ ì˜¤ì°¨</span>
                        <span class="result-value" id="relativeError">-</span>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <div class="chart-title">ê²°ê³¼ê°’ ë¶„í¬ íˆìŠ¤í† ê·¸ë¨</div>
                <canvas id="histogramChart"></canvas>
            </div>

            <div class="interpretation" id="interpretation">
                <h3>ğŸ“Œ í•´ì„</h3>
                <p id="interpretationText"></p>
            </div>
        </div>
    </div>

    <script>
        let selectedFunction = 'linear';
        let histogramChart = null;

        // í•¨ìˆ˜ ì„ íƒ ì´ë²¤íŠ¸
        document.querySelectorAll('.function-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.function-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                selectedFunction = this.dataset.function;
            });
        });

        // ì •ê·œë¶„í¬ ë‚œìˆ˜ ìƒì„± (Box-Muller ë³€í™˜)
        function generateNormal(mean, std) {
            let u1 = Math.random();
            let u2 = Math.random();
            let z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);
            return mean + std * z0;
        }

        // í•¨ìˆ˜ ê³„ì‚°
        function calculateFunction(x, y, funcType) {
            switch(funcType) {
                case 'linear':
                    return 2 * x + 3 * y;
                case 'multiply':
                    return x * y;
                case 'cosine':
                    return Math.cos(x * y);
                default:
                    return 0;
            }
        }

        // ì´ë¡ ì  í‘œì¤€í¸ì°¨ ê³„ì‚°
        function calculateTheoreticalStd(muX, muY, sigmaX, sigmaY, funcType) {
            let variance = 0;
            let formula = '';
            
            switch(funcType) {
                case 'linear':
                    // f = 2x + 3y
                    // âˆ‚f/âˆ‚x = 2, âˆ‚f/âˆ‚y = 3
                    variance = Math.pow(2 * sigmaX, 2) + Math.pow(3 * sigmaY, 2);
                    formula = 'âˆš[(2Ïƒâ‚“)Â² + (3Ïƒáµ§)Â²]';
                    break;
                case 'multiply':
                    // f = xy
                    // âˆ‚f/âˆ‚x = y, âˆ‚f/âˆ‚y = x
                    variance = Math.pow(muY * sigmaX, 2) + Math.pow(muX * sigmaY, 2);
                    formula = 'âˆš[(yÏƒâ‚“)Â² + (xÏƒáµ§)Â²]';
                    break;
                case 'cosine':
                    // f = cos(xy)
                    // âˆ‚f/âˆ‚x = -yÂ·sin(xy), âˆ‚f/âˆ‚y = -xÂ·sin(xy)
                    let xy = muX * muY;
                    let sinxy = Math.sin(xy);
                    variance = Math.pow(muY * sinxy * sigmaX, 2) + Math.pow(muX * sinxy * sigmaY, 2);
                    formula = 'âˆš[(yÂ·sin(xy)Ïƒâ‚“)Â² + (xÂ·sin(xy)Ïƒáµ§)Â²]';
                    break;
            }
            
            return {
                std: Math.sqrt(variance),
                formula: formula
            };
        }

        // ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
        function runSimulation() {
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const muX = parseFloat(document.getElementById('muX').value);
            const sigmaX = parseFloat(document.getElementById('sigmaX').value);
            const muY = parseFloat(document.getElementById('muY').value);
            const sigmaY = parseFloat(document.getElementById('sigmaY').value);
            const N = parseInt(document.getElementById('sampleSize').value);

            // ë¡œë”© í‘œì‹œ
            document.getElementById('loading').classList.add('active');
            document.getElementById('resultsSection').style.display = 'none';

            // ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ UI ë¸”ë¡œí‚¹ ë°©ì§€
            setTimeout(() => {
                // Monte Carlo ì‹œë®¬ë ˆì´ì…˜
                let results = [];
                for(let i = 0; i < N; i++) {
                    let x = generateNormal(muX, sigmaX);
                    let y = generateNormal(muY, sigmaY);
                    let f = calculateFunction(x, y, selectedFunction);
                    results.push(f);
                }

                // í†µê³„ëŸ‰ ê³„ì‚°
                const simMean = results.reduce((a, b) => a + b, 0) / N;
                const simVariance = results.reduce((sum, val) => sum + Math.pow(val - simMean, 2), 0) / N;
                const simStd = Math.sqrt(simVariance);

                // ì´ë¡ ê°’ ê³„ì‚°
                const theoretical = calculateTheoreticalStd(muX, muY, sigmaX, sigmaY, selectedFunction);
                const theoreticalMean = calculateFunction(muX, muY, selectedFunction);

                // ìƒëŒ€ ì˜¤ì°¨
                const relativeError = Math.abs((simStd - theoretical.std) / simStd * 100);

                // ê²°ê³¼ í‘œì‹œ
                document.getElementById('theoreticalMean').textContent = theoreticalMean.toFixed(6);
                document.getElementById('theoreticalStd').textContent = theoretical.std.toFixed(6);
                document.getElementById('formulaUsed').textContent = theoretical.formula;
                document.getElementById('simulatedMean').textContent = simMean.toFixed(6);
                document.getElementById('simulatedStd').textContent = simStd.toFixed(6);
                
                let errorClass = relativeError < 1 ? 'error-good' : relativeError < 5 ? 'error-warning' : 'error-bad';
                document.getElementById('relativeError').innerHTML = 
                    `${relativeError.toFixed(2)}% <span class="error-indicator ${errorClass}">${relativeError < 1 ? 'ìš°ìˆ˜' : relativeError < 5 ? 'ì–‘í˜¸' : 'ì£¼ì˜'}</span>`;

                // íˆìŠ¤í† ê·¸ë¨ ê·¸ë¦¬ê¸°
                drawHistogram(results, simMean, simStd);

                // í•´ì„ í…ìŠ¤íŠ¸
                generateInterpretation(relativeError, selectedFunction, theoretical.std, simStd);

                // ê²°ê³¼ ì„¹ì…˜ í‘œì‹œ
                document.getElementById('loading').classList.remove('active');
                document.getElementById('resultsSection').style.display = 'block';
            }, 100);
        }

        // íˆìŠ¤í† ê·¸ë¨ ê·¸ë¦¬ê¸°
        function drawHistogram(data, mean, std) {
            // ë¹ˆ ì„¤ì •
            const bins = 50;
            const min = Math.min(...data);
            const max = Math.max(...data);
            const binWidth = (max - min) / bins;

            let histogram = new Array(bins).fill(0);
            let labels = [];

            for(let i = 0; i < bins; i++) {
                labels.push((min + i * binWidth).toFixed(3));
            }

            data.forEach(val => {
                let binIndex = Math.floor((val - min) / binWidth);
                if(binIndex >= bins) binIndex = bins - 1;
                if(binIndex < 0) binIndex = 0;
                histogram[binIndex]++;
            });

            // ì •ê·œë¶„í¬ ê³¡ì„  ê³„ì‚°
            let normalCurve = labels.map(x => {
                let xVal = parseFloat(x);
                return data.length * binWidth * (1 / (std * Math.sqrt(2 * Math.PI))) * 
                       Math.exp(-0.5 * Math.pow((xVal - mean) / std, 2));
            });

            // ì°¨íŠ¸ ê·¸ë¦¬ê¸°
            const ctx = document.getElementById('histogramChart').getContext('2d');
            
            if(histogramChart) {
                histogramChart.destroy();
            }

            histogramChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ì‹œë®¬ë ˆì´ì…˜ ë¹ˆë„',
                        data: histogram,
                        backgroundColor: 'rgba(102, 126, 234, 0.5)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 1
                    }, {
                        label: 'ì´ë¡ ì  ì •ê·œë¶„í¬',
                        data: normalCurve,
                        type: 'line',
                        borderColor: 'rgba(220, 53, 69, 1)',
                        borderWidth: 3,
                        fill: false,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'í•¨ìˆ˜ê°’ f',
                                font: { size: 14, weight: 'bold' }
                            },
                            ticks: {
                                maxTicksLimit: 10
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'ë¹ˆë„',
                                font: { size: 14, weight: 'bold' }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });
        }

        // í•´ì„ ìƒì„±
        function generateInterpretation(relativeError, funcType, theoreticalStd, simulatedStd) {
            let text = '';
            
            if(funcType === 'linear') {
                text = `ì„ í˜• í•¨ìˆ˜ì˜ ê²½ìš° 1ì°¨ í…Œì¼ëŸ¬ ê·¼ì‚¬ê°€ ì •í™•í•œ ê°’ì´ë¯€ë¡œ, ì´ë¡ ê°’ê³¼ ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ê°€ ê±°ì˜ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•©ë‹ˆë‹¤ (ì˜¤ì°¨ ${relativeError.toFixed(3)}%). 
                        ì´ëŠ” ì˜¤ì°¨ ì „íŒŒ ë²•ì¹™ì´ ì„ í˜• ê´€ê³„ì—ì„œëŠ” ê·¼ì‚¬ê°€ ì•„ë‹Œ ì—„ë°€í•´ì„ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.`;
            } else if(funcType === 'multiply') {
                if(relativeError < 2) {
                    text = `ê³±ì…ˆ í•¨ìˆ˜ëŠ” ë¹„ì„ í˜•ì´ì§€ë§Œ, ì…ë ¥ ë³€ìˆ˜ì˜ í‘œì¤€í¸ì°¨ê°€ í‰ê· ì— ë¹„í•´ ì¶©ë¶„íˆ ì‘ì„ ë•Œ(Ïƒ/Î¼ â‰ª 1) 1ì°¨ ê·¼ì‚¬ê°€ ë§¤ìš° ì˜ ì‘ë™í•©ë‹ˆë‹¤ (ì˜¤ì°¨ ${relativeError.toFixed(3)}%). 
                            í˜„ì¬ ì„¤ì •ì—ì„œ ì˜¤ì°¨ ì „íŒŒ ê³µì‹ì€ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì˜ˆì¸¡ì„ ì œê³µí•©ë‹ˆë‹¤.`;
                } else {
                    text = `ê³±ì…ˆ í•¨ìˆ˜ì—ì„œ ìƒëŒ€ ì˜¤ì°¨ ${relativeError.toFixed(2)}%ê°€ ê´€ì°°ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì…ë ¥ ë³€ìˆ˜ì˜ ë¶ˆí™•ë„ê°€ ì»¤ì§€ë©´ì„œ ë¹„ì„ í˜• íš¨ê³¼(ê³ ì°¨ í•­)ê°€ ë‚˜íƒ€ë‚˜ê¸° ì‹œì‘í–ˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. 
                            ë” ì •í™•í•œ ì˜ˆì¸¡ì„ ìœ„í•´ì„œëŠ” 2ì°¨ ë³´ì •í•­ì„ ê³ ë ¤í•˜ê±°ë‚˜ ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.`;
                }
            } else if(funcType === 'cosine') {
                if(relativeError < 5) {
                    text = `ì‚¼ê°í•¨ìˆ˜ëŠ” ê°•í•œ ë¹„ì„ í˜•ì„±ì„ ê°€ì§€ì§€ë§Œ, í˜„ì¬ ì¡°ê±´ì—ì„œëŠ” 1ì°¨ ê·¼ì‚¬ê°€ ë¹„êµì  ì˜ ì‘ë™í•˜ê³  ìˆìŠµë‹ˆë‹¤ (ì˜¤ì°¨ ${relativeError.toFixed(2)}%). 
                            ë‹¤ë§Œ ì…ë ¥ê°’ì´ í•¨ìˆ˜ì˜ ê·¹ê°’ ê·¼ì²˜ì— ìˆê±°ë‚˜ í‘œì¤€í¸ì°¨ê°€ ì»¤ì§€ë©´ ê·¼ì‚¬ ì •í™•ë„ê°€ ê¸‰ê²©íˆ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
                } else {
                    text = `ì‚¼ê°í•¨ìˆ˜ì˜ ë†’ì€ ë¹„ì„ í˜•ì„±ìœ¼ë¡œ ì¸í•´ ${relativeError.toFixed(2)}%ì˜ ìƒëŒ€ ì˜¤ì°¨ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. 
                            íˆìŠ¤í† ê·¸ë¨ì„ ë³´ë©´ ë¶„í¬ê°€ ì •ê·œë¶„í¬ì—ì„œ ë²—ì–´ë‚˜ ì™œê³¡(skewness)ë˜ì—ˆì„ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤. 
                            ì´ëŸ¬í•œ ê²½ìš° ë‹¨ìˆœ í‘œì¤€í¸ì°¨ë§Œìœ¼ë¡œ ë¶ˆí™•ë„ë¥¼ í‘œí˜„í•˜ëŠ” ê²ƒì€ ë¶€ì ì ˆí•˜ë©°, ì „ì²´ ë¶„í¬ë¥¼ ê³ ë ¤í•œ ì‹ ë¢°êµ¬ê°„ ì¶”ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
                }
            }

            document.getElementById('interpretationText').textContent = text;
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
        window.addEventListener('load', () => {
            runSimulation();
        });
    </script>
</body>
</html>
